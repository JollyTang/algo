# è‡ªæˆ‘ä»‹ç»
é¢è¯•å®˜ä½ å¥½ï¼Œæˆ‘æ˜¯jollytangï¼Œæ˜¯ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦è½¯ä»¶å­¦é™¢ç ”äºŒçš„å­¦ç”Ÿã€‚
æŠ€æœ¯æ ˆä¸»è¦æ˜¯javaï¼Œpythonï¼Œgoç›¸å…³çš„ã€‚
ä¹‹å‰åœ¨è…¾è®¯iegå¢å€¼æœåŠ¡éƒ¨å®ä¹ ï¼Œåšçš„ä¸»è¦æ˜¯ç›‘æ§ç³»ç»Ÿï¼Œå¯è§‚æµ‹ç›¸å…³çš„å·¥ä½œã€‚
åŒ…æ‹¬ç›‘æ§ç®¡ç†ç«¯ï¼Œæ•°æ®å¤„ç†å¼•æ“ï¼Œç›‘æ§å‘Šè­¦å¼•æ“ç­‰æœåŠ¡ã€‚
ç°åœ¨åœ¨ç¾å›¢å±¥çº¦å¹³å°æŠ€æœ¯éƒ¨å®ä¹ ï¼Œä¸»è¦åšå·¥ä½œæµï¼Œæ•°æ®é›†ï¼Œæ•°æ®æ ‡æ³¨ï¼Œä»»åŠ¡å·¡æ£€è¯„æµ‹ç­‰å·¥ä½œã€‚
å¹³å¸¸ç”Ÿæ´»ä¸­å¯¹AIæœ‰äº›å…´è¶£ï¼Œæ‰€ä»¥ä¹Ÿåšäº†ä¸€ä¸ªAgenté¡¹ç›®è¿›è¡Œå°è¯•ã€‚
æ—¥å¸¸å·¥ä½œä¸­ä¹Ÿåœ¨æ…¢æ…¢æŠŠAIåŠ å…¥è¿›æ¥ï¼Œå¯åœ¨AIå¸®åŠ©ä¸‹è¿›è¡Œå…¨æ ˆå¼€å‘ã€‚
å¦‚æœç”¨å‡ ä¸ªè¯æ¥æè¿°æˆ‘ä¹‹å‰çš„å·¥ä½œçš„è¯ï¼Œé‚£å°±æ˜¯ç›‘æ§å¯è§‚æµ‹ï¼Œæ•°æ®é—­ç¯ï¼ŒAgentï¼ŒAIå…¨æ ˆå¼€å‘ã€‚
ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»ï¼Œè°¢è°¢ã€‚

å‡†å¤‡å‡ ä¸ªhook
ç”±AiCoding -> æ•°æ®é›†è¡€ç¼˜é‡æ”¾æœºåˆ¶ -> æ‰§è¡Œè®¡åˆ’DAGæ„å»º | è®¾è®¡æ¨¡å¼ | å¤§æ•°æ®æ¡†æ¶ä¸­æ•°æ®é›†çš„å¤„ç†
ç”±è®¾è®¡æ¨¡å¼ -> è…¾è®¯ç¡¬ç¼–ç ç­–ç•¥ä¼˜åŒ–ï¼Œè´£ä»»é“¾å’Œç­–ç•¥ | é¡¹ç›®ä¸­ç›‘æ§çš„è£…é¥°å™¨æ¨¡å¼ 
# æ•°æ®é›†çš„è¡€ç¼˜é‡æ”¾æœºåˆ¶
å¯ä»¥å¼•å‡ºä¸‹åˆ—çŸ¥è¯†ç‚¹
## spark,flinkåœ¨æ‰§è¡Œå‰æ„å»ºDAGæ‰§è¡Œå›¾
Sparkï¼šRDD å¯¹è±¡å¤©ç„¶å°±æ˜¯èŠ‚ç‚¹ï¼Œä¾èµ–å…³ç³»å¤©ç„¶å°±æ˜¯è¾¹ï¼›Action è§¦å‘æ—¶ç”± DAGScheduler ä¸€æ¬¡æ€§åˆ‡å¼€ Shuffle ç‚¹å¾—åˆ° Stage DAGã€‚
Flinkï¼šæ¯å†™ä¸€è¡Œä»£ç å…ˆäº§å‡º Transformationï¼Œå†ç»è¿‡ åˆå¹¶-å±•å¼€-å¹¶è¡ŒåŒ– ä¸‰æ¬¡åŠ å·¥ï¼Œæ‰è½åˆ°å¯æ‰§è¡Œçš„ ExecutionGraph DAGã€‚
## sqlæ‰§è¡Œè®¡åˆ’å›¾
sqlåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ„å»ºç±»ä¼¼çš„DAGæ‰§è¡Œå›¾ï¼Œ
æ‰§è¡Œé¡ºåºæ€»ç»“
FROMï¼šç¡®å®šæ•°æ®æ¥æºã€‚
WHEREï¼šå¯¹æ•°æ®æºè¿›è¡Œè¿‡æ»¤ã€‚
GROUP BYï¼šå¯¹è¿‡æ»¤åçš„æ•°æ®è¿›è¡Œåˆ†ç»„ã€‚
HAVINGï¼šå¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚
SELECTï¼šé€‰æ‹©éœ€è¦çš„åˆ—ã€‚
ORDER BYï¼šå¯¹æœ€ç»ˆç»“æœè¿›è¡Œæ’åºã€‚

### sqlçš„æ‰§è¡Œå¯ä»¥æ˜ å°„åˆ°sparkåœºæ™¯ï¼Œä¹Ÿå°±å˜æˆäº†hive on spark
æŸ¥è¯¢çš„å„ç§æ“ä½œå˜æˆäº†sparkçš„ç®—å­ã€‚

## linuxçš„ç®¡é“æ“ä½œ
ä¸æ˜¯dagï¼Œä½†æ˜¯å½¢æˆäº†æ‰§è¡Œé“¾ï¼ŒæŠŠä¸Šä¸€ä¸ªshellå‘½ä»¤çš„è¾“å‡ºå½“æˆä¸‹ä¸€ä¸ªshellå‘½ä»¤çš„è¾“å…¥ã€‚

## gitçš„commitæäº¤é“¾ã€‚

## ä»£ç ä¸­å¦‚ä½•æ¥åšå‘¢ï¼Ÿ
å‘½ä»¤æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼ï¼Œè£…é¥°å™¨æ¨¡å¼ï¼Œç»„åˆæ¨¡å¼
å‘½ä»¤æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼éƒ½æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼ŒæŠ½è±¡æ–¹æ³•ï¼Œç„¶åå…·ä½“çš„å‘½ä»¤æˆ–è€…ç­–ç•¥ç»§æ‰¿è¿™ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®ç°æŠ½è±¡ç±»å³å¯ã€‚
è£…é¥°å™¨æ¨¡å¼åƒå¥—å¨ƒä¸€æ ·ï¼Œä¸€å±‚å±‚åŒ…ä½åŸå¯¹è±¡ï¼Œæ¯åŒ…ä¸€å±‚å°±ç»™å®ƒåŠ ä¸€ä¸ªæ–°èƒ½åŠ›ï¼Œè¿™å°±æ˜¯è£…é¥°å™¨æ¨¡å¼ã€‚
ç»„åˆæ¨¡å¼å°±æ˜¯æŠŠâ€œå•ä¸ªå¯¹è±¡â€å’Œâ€œç”±å¯¹è±¡ç»„æˆçš„æ ‘å½¢å®¹å™¨â€å½“æˆåŒä¸€ç§ä¸œè¥¿æ¥é€’å½’ä½¿ç”¨ï¼Œè¿™å°±æ˜¯ç»„åˆæ¨¡å¼ã€‚

# ç†Ÿæ‚‰è®¾è®¡æ¨¡å¼

## é¡¹ç›®ä¸­ä½¿ç”¨çš„ç­–ç•¥æ¨¡å¼ 
### æ•°æ®é›†
æ•°æ®é›†çš„è¡€ç¼˜å…³ç³»æ„å»ºï¼Œé‡æ”¾æœºåˆ¶ä½¿ç”¨äº†ç±»ä¼¼çš„æ–¹å¼ã€‚
### æ•°æ®å…¼å®¹ è´£ä»»é“¾+ç­–ç•¥æ¨¡å¼
åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼ŒåŸæ¥ç¡¬ç¼–ç äº†ä¸‰ç§ä¸åŒçš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯è¿‡æ»¤ç±»ï¼Œç¬¬äºŒç§æ˜¯ä¿®æ”¹ç±»ï¼Œç¬¬ä¸‰ç§æ˜¯å…¶ä»–ç±»å‹ã€‚é€šè¿‡æŠŠä»–ä»¬æŠ½è±¡æˆç­–ç•¥æ¥è¿›è¡Œå¤„ç†ï¼Œç¬¬ä¸€ç§å°±æ˜¯è¿‡æ»¤ç­–ç•¥ï¼Œç¬¬äºŒç§å°±æ˜¯ä¿®æ”¹ç­–ç•¥ï¼Œç¬¬ä¸‰ç§æ˜¯ä»»æ„ç±»å‹çš„ç­–ç•¥ï¼Œé€šè¿‡é‡å†™æŠ½è±¡æ–¹æ³•å¯ä»¥åšåˆ°æƒ³æ€ä¹ˆæ”¹æ€ä¹ˆæ”¹ã€‚åœ¨é€šè¿‡è´£ä»»é“¾æ¨¡å¼æŠŠä¹‹å‰é•¿è¾¾å¿«ä¸€ç™¾å¤šè¡Œçš„ifåˆ¤æ–­ç»™ä¿®æ”¹æˆä¸è¿‡å‡ è¡Œçš„è´£ä»»é“¾è°ƒç”¨ï¼Œå®ç°å¯¹åŸæ¥ä»£ç çš„é‡æ„ï¼Œå¹¶ä¸”ç›¸å¯¹ä¹‹å‰æ¥è¯´ï¼Œä¸è®ºæ˜¯æ‰©å±•æ€§è¿˜æ˜¯å¯è¯»æ€§éƒ½æå‡ä¸å°‘ã€‚
æ€»ç»“ï¼šå¦‚æœä½ éœ€è¦â€œæŒ‰é¡ºåºå°è¯•å¤šç§å¤„ç†é€»è¾‘ï¼Œåˆæƒ³éšæ—¶æ›¿æ¢å…¶ä¸­ä»»æ„ä¸€ç¯çš„ç®—æ³•â€ï¼ŒæŠŠè´£ä»»é“¾å½“éª¨æ¶ã€ç­–ç•¥å½“æ’ä»¶å°±æ˜¯ä¸šç•Œæœ€çœå¿ƒçš„åšæ³•ã€‚
## äº†è§£çš„å…¶ä»–è®¾è®¡æ¨¡å¼
### è¿­ä»£å™¨æ¨¡å¼
åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ä½¿ç”¨åˆ°ï¼Œç†Ÿæ‚‰çš„æ¯”å¦‚æœ‰åœ¨ç¼–ç¨‹è¯­è¨€ä¸­è¿­ä»£å¯¹è±¡ã€‚æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ•°æ®åº“ã€‚
æœ¬è´¨ä¸Šå°±æ˜¯æŒ‰éœ€è¦åå‡ºæ•°æ®ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æŠŠæ•°æ®éƒ½æ¬è¿›å†…å­˜ã€‚
å¦‚ä½•å®ç°ï¼ŸæŠŠå¯¹æ•°æ®çš„ä¸€äº›æ“ä½œå°è£…åœ¨hasNextå’Œnextä¸­ï¼Œè®©ä½¿ç”¨è€…é€šè¿‡è¿™ä¸ªæ¥åˆ¤æ–­æ˜¯å¦æœ‰æ•°æ®å’Œè·å–ä¸‹ä¸ªæ•°æ®ï¼Œè€Œå¿½ç•¥æ•°æ®æœ‰å¤šå¤§å’Œå­˜åœ¨ä»€ä¹ˆä»‹è´¨ã€‚
### å•ä¾‹æ¨¡å¼
è®©å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚é…ç½®ï¼Œè¿æ¥æ± ã€‚
æšä¸¾æœ€ç¨³ï¼›æ‡’æ±‰æœ€çµæ´»ï¼›é¥¿æ±‰æœ€ç®€å•ï¼›åŒé‡é”æœ€å±é™©ï¼ˆè®°å¾— volatileï¼‰ã€‚
```java
public class President {
    private static volatile President instance;   // å°‘äº† volatile çº¿ç¨‹ä¼šæ‹¿åˆ°åŠå¯¹è±¡
    private President() {}
    public static President getInstance() {
        if (instance == null) {
            synchronized (President.class) {
                if (instance == null) instance = new President();
            }
        }
        return instance;
    }
}
```
### visitoræ¨¡å¼
Visitor è®©ä½ åœ¨ä¸æ”¹åŸæœ‰ç±»çš„å‰æä¸‹ï¼Œç»™ä¸€æ‰¹å¯¹è±¡åŠ¨æ€å¢åŠ æ–°åŠŸèƒ½ã€‚
```python
from abc import ABC, abstractmethod

# 1. å…ƒç´ åŸºç±»ï¼šä¹˜å®¢
class Passenger(ABC):
    @abstractmethod
    def accept(self, visitor): pass

# 2. å…·ä½“ä¹˜å®¢ï¼šæ™®é€š & è€äºº
class OrdinaryPassenger(Passenger):
    def accept(self, visitor):
        visitor.visit_ordinary(self)

class ElderPassenger(Passenger):
    def accept(self, visitor):
        visitor.visit_elder(self)

# 3. è®¿é—®è€…åŸºç±»ï¼šå®‰æ£€å‘˜
class SecurityVisitor(ABC):
    @abstractmethod
    def visit_ordinary(self, p): pass
    @abstractmethod
    def visit_elder(self, p): pass

# 4. å…·ä½“å®‰æ£€å‘˜ï¼šèº«ä½“æ£€æŸ¥ & è¡Œææ£€æŸ¥
class BodyCheckVisitor(SecurityVisitor):
    def visit_ordinary(self, p):
        print("ğŸ‘® å¯¹æ™®é€šä¹˜å®¢æœèº«")
    def visit_elder(self, p):
        print("ğŸ‘® å¯¹è€äººä¹˜å®¢è½»æ‹æœèº«")

class LuggageCheckVisitor(SecurityVisitor):
    def visit_ordinary(self, p):
        print("ğŸ§³ æ£€æŸ¥æ™®é€šä¹˜å®¢è¡Œæ")
    def visit_elder(self, p):
        print("ğŸ§³ æ£€æŸ¥è€äººä¹˜å®¢è¡Œæ")

# 5. å®¢æˆ·ç«¯ï¼šåœ°é“å…¥å£
queue = [OrdinaryPassenger(), ElderPassenger()]

# ä»Šå¤©å…ˆæ‰§è¡Œä¸¤ç§å®‰æ£€
for p in queue:
    p.accept(BodyCheckVisitor())
    p.accept(LuggageCheckVisitor())

# æ˜å¤©æƒ³åŠ â€œé‡‘å±æ¢æµ‹â€ï¼Ÿæ–°å»ºä¸€ä¸ª MetalDetectorVisitor å³å¯
```

### è£…é¥°å™¨æ¨¡å¼
```python
from abc import ABC, abstractmethod

# 1. è¢«è£…é¥°è€…æ¥å£
class Passenger(ABC):
    @abstractmethod
    def pass_gate(self): pass

# 2. å…·ä½“ä¹˜å®¢
class OrdinaryPassenger(Passenger):
    def pass_gate(self):
        print("æ™®é€šä¹˜å®¢å‡†å¤‡è¿›ç«™")

class ElderPassenger(Passenger):
    def pass_gate(self):
        print("è€äººä¹˜å®¢å‡†å¤‡è¿›ç«™")

# 3. è£…é¥°å™¨åŸºç±»
class SecurityDecorator(Passenger): # è¿™é‡Œè¦ç»§æ‰¿æŠ½è±¡ç±»
    def __init__(self, passenger: Passenger):
        self._passenger = passenger

    def pass_gate(self):
        self._passenger.pass_gate()

# 4. å…·ä½“è£…å¤‡ï¼ˆè£…é¥°å™¨ï¼‰
class BodyCheckDecorator(SecurityDecorator):
    def pass_gate(self):
        super().pass_gate()
        print("ğŸ‘® å¯¹ä¹˜å®¢æœèº«")

class LuggageScanDecorator(SecurityDecorator):
    def pass_gate(self):
        super().pass_gate()
        print("ğŸ§³ è¡Œææ‰«æ")

class MetalDetectorDecorator(SecurityDecorator):
    def pass_gate(self):
        super().pass_gate()
        print("ğŸ” é‡‘å±æ¢æµ‹")

# 5. å®¢æˆ·ç«¯ï¼šç»™ä¹˜å®¢â€œç©¿è£…å¤‡â€
p = OrdinaryPassenger()

# æƒ³ç©¿å‡ ä»¶ç©¿å‡ ä»¶ï¼Œé¡ºåºéšæ„
dressed = MetalDetectorDecorator(
            LuggageScanDecorator(
              BodyCheckDecorator(p)))

dressed.pass_gate()
```